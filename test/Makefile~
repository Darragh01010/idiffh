all: test
.PHONY: all test

test:  a12
test:  b12
test:  c12
test:  d12


%.tok: %
	../separate <$< >$@

 a1.patch: a.tok  a1.tok
	../idiffh $^ > $@ || true

 a2.patch:  a.tok  a2.tok
	../idiffh $^ > $@ || true

 b1.patch: b.tok  b1.tok
	../idiffh $^ > $@ || true

 b2.patch:  b.tok  b2.tok
	../idiffh $^ > $@ || true

 c1.patch: c.tok  c1.tok
	../idiffh $^ > $@ || true

 c2.patch:  c.tok  c2.tok
	../idiffh $^ > $@ || true

 d1.patch: d.tok  d1.tok
	../idiffh $^ > $@ || true

 d2.patch:  d.tok  d2.tok
	../idiffh $^ > $@ || true


 c12.tok:  c2.tok  c1.patch
	patch -l  c2.tok -i  c1.patch -o $@

 c12.tok:  c2.tok  c1.patch
	patch -l  c2.tok -i  c1.patch -o $@

 c12.tok:  c2.tok  c1.patch
	patch -l  c2.tok -i  c1.patch -o $@

 c12.tok:  c2.tok  c1.patch
	patch -l  c2.tok -i  c1.patch -o $@



 c12:  c12.tok
	../rebuild < $< > $@

